function Z(n){return n}var C=1,F=2,V=3,E=4,I=1e-6;function j(n){return"translate("+n+",0)"}function B(n){return"translate(0,"+n+")"}function Q(n){return t=>+n(t)}function X(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),e=>+n(e)+t}function Y(){return!this.__axis}function N(n,t){var e=[],i=null,o=null,u=6,f=6,h=3,r=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=n===C||n===E?-1:1,c=n===E||n===F?"x":"y",p=n===C||n===V?j:B;function a(s){var b=i??(t.ticks?t.ticks.apply(t,e):t.domain()),S=o??(t.tickFormat?t.tickFormat.apply(t,e):Z),P=Math.max(u,0)+h,y=t.range(),$=+y[0]+r,k=+y[y.length-1]+r,d=(t.bandwidth?X:Q)(t.copy(),r),g=s.selection?s.selection():s,v=g.selectAll(".domain").data([null]),_=g.selectAll(".tick").data(b,t).order(),L=_.exit(),T=_.enter().append("g").attr("class","tick"),w=_.select("line"),A=_.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(T),w=w.merge(T.append("line").attr("stroke","currentColor").attr(c+"2",l*u)),A=A.merge(T.append("text").attr("fill","currentColor").attr(c,l*P).attr("dy",n===C?"0em":n===V?"0.71em":"0.32em")),s!==g&&(v=v.transition(s),_=_.transition(s),w=w.transition(s),A=A.transition(s),L=L.transition(s).attr("opacity",I).attr("transform",function(m){return isFinite(m=d(m))?p(m+r):this.getAttribute("transform")}),T.attr("opacity",I).attr("transform",function(m){var z=this.parentNode.__axis;return p((z&&isFinite(z=z(m))?z:d(m))+r)})),L.remove(),v.attr("d",n===E||n===F?f?"M"+l*f+","+$+"H"+r+"V"+k+"H"+l*f:"M"+r+","+$+"V"+k:f?"M"+$+","+l*f+"V"+r+"H"+k+"V"+l*f:"M"+$+","+r+"H"+k),_.attr("opacity",1).attr("transform",function(m){return p(d(m)+r)}),w.attr(c+"2",l*u),A.attr(c,l*P).text(S),g.filter(Y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===F?"start":n===E?"end":"middle"),g.each(function(){this.__axis=d})}return a.scale=function(s){return arguments.length?(t=s,a):t},a.ticks=function(){return e=Array.from(arguments),a},a.tickArguments=function(s){return arguments.length?(e=s==null?[]:Array.from(s),a):e.slice()},a.tickValues=function(s){return arguments.length?(i=s==null?null:Array.from(s),a):i&&i.slice()},a.tickFormat=function(s){return arguments.length?(o=s,a):o},a.tickSize=function(s){return arguments.length?(u=f=+s,a):u},a.tickSizeInner=function(s){return arguments.length?(u=+s,a):u},a.tickSizeOuter=function(s){return arguments.length?(f=+s,a):f},a.tickPadding=function(s){return arguments.length?(h=+s,a):h},a.offset=function(s){return arguments.length?(r=+s,a):r},a}function it(n){return N(V,n)}function et(n){return N(E,n)}const H=Math.PI,q=2*H,M=1e-6,D=q-M;function R(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function G(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return R;const e=10**t;return function(i){this._+=i[0];for(let o=1,u=i.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}class J{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?R:G(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,o){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,e,i,o,u,f){this._append`C${+t},${+e},${+i},${+o},${this._x1=+u},${this._y1=+f}`}arcTo(t,e,i,o,u){if(t=+t,e=+e,i=+i,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let f=this._x1,h=this._y1,r=i-t,l=o-e,c=f-t,p=h-e,a=c*c+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(a>M)if(!(Math.abs(p*r-l*c)>M)||!u)this._append`L${this._x1=t},${this._y1=e}`;else{let s=i-f,b=o-h,S=r*r+l*l,P=s*s+b*b,y=Math.sqrt(S),$=Math.sqrt(a),k=u*Math.tan((H-Math.acos((S+a-P)/(2*y*$)))/2),d=k/$,g=k/y;Math.abs(d-1)>M&&this._append`L${t+d*c},${e+d*p}`,this._append`A${u},${u},0,0,${+(p*s>c*b)},${this._x1=t+g*r},${this._y1=e+g*l}`}}arc(t,e,i,o,u,f){if(t=+t,e=+e,i=+i,f=!!f,i<0)throw new Error(`negative radius: ${i}`);let h=i*Math.cos(o),r=i*Math.sin(o),l=t+h,c=e+r,p=1^f,a=f?o-u:u-o;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>M||Math.abs(this._y1-c)>M)&&this._append`L${l},${c}`,i&&(a<0&&(a=a%q+q),a>D?this._append`A${i},${i},0,1,${p},${t-h},${e-r}A${i},${i},0,1,${p},${this._x1=l},${this._y1=c}`:a>M&&this._append`A${i},${i},0,${+(a>=H)},${p},${this._x1=t+i*Math.cos(u)},${this._y1=e+i*Math.sin(u)}`)}rect(t,e,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function x(n){return function(){return n}}function K(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);t=i}return n},()=>new J(t)}function U(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function O(n){this._context=n}O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function W(n){return new O(n)}function tt(n){return n[0]}function nt(n){return n[1]}function rt(n,t){var e=x(!0),i=null,o=W,u=null,f=K(h);n=typeof n=="function"?n:n===void 0?tt:x(n),t=typeof t=="function"?t:t===void 0?nt:x(t);function h(r){var l,c=(r=U(r)).length,p,a=!1,s;for(i==null&&(u=o(s=f())),l=0;l<=c;++l)!(l<c&&e(p=r[l],l,r))===a&&((a=!a)?u.lineStart():u.lineEnd()),a&&u.point(+n(p,l,r),+t(p,l,r));if(s)return u=null,s+""||null}return h.x=function(r){return arguments.length?(n=typeof r=="function"?r:x(+r),h):n},h.y=function(r){return arguments.length?(t=typeof r=="function"?r:x(+r),h):t},h.defined=function(r){return arguments.length?(e=typeof r=="function"?r:x(!!r),h):e},h.curve=function(r){return arguments.length?(o=r,i!=null&&(u=o(i)),h):o},h.context=function(r){return arguments.length?(r==null?i=u=null:u=o(i=r),h):i},h}export{it as a,et as b,rt as l};
