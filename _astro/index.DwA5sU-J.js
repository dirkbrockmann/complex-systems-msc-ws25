import{j as p,s as x}from"./transform.D34fbgXt.js";import{l as m,u as k,m as M,p as _,a as C}from"./map.q80aMCoh.js";/* empty css                           */import{r as h}from"./index.BVOCwoKb.js";import{s as y}from"./styles_module.c7efca27.CkGrJBQ7.js";import{r as f}from"./range.OtVwhkKS.js";import{a as R,b as $,l as j}from"./line.CHfAYkri.js";const t={container:{class:"flex flex-col"},display:{width:300,height:200,class:"p-0  mb-0 w-full h-auto"},controls:{width:300,height:100,class:"d3-widgets p-0  mb-0 w-full h-auto",grid:{x:12,y:6}},widgets:{slider_size:250,slider_girth:8,slider_knob:9,slider_fontsize:24,sliders:[{id:"mu",label:"μ",range:[-5,5],value:0,position:{x:1,y:2}},{id:"sigma",label:"σ",range:[.1,5],value:1,position:{x:1,y:5}}]},plot:{margin:{l:30,r:30,t:10,b:50},xr:[-10,10],yr:[0,.5],xaxis:{label:"x",position:{x:150,y:190}},yaxis:{label:"p(x)",position:{x:175,y:20}}}},z=(a,o,e)=>1/Math.sqrt(2*Math.PI*Math.pow(e,2))*Math.exp(-Math.pow(a-o,2)/(2*Math.pow(e,2))),A=(a,o,e)=>1/Math.PI*(e/(Math.pow(e,2)+Math.pow(a-o,2))),B=(a,o)=>{var e,i;const n=m().domain(t.plot.xr).range([t.plot.margin.l,t.display.width-t.plot.margin.r]),d=m().domain(t.plot.yr).range([t.display.height-t.plot.margin.b,t.plot.margin.t]),w=R(n),b=$(d),c=j().x(s=>n(s.x)).y(s=>d(s.y)),v=k(t.controls.width,t.controls.height,t.controls.grid.x,t.controls.grid.y),l=x(a),g=x(o),r=M(t.widgets.sliders,s=>C().id(s.id).label(s.label).range(s.range).value(s.value).fontsize(t.widgets.slider_fontsize).size(t.widgets.slider_size).girth(t.widgets.slider_girth).knob(t.widgets.slider_knob).position(v.position(s.position.x,s.position.y))),u=()=>{e=f(t.plot.xr[0],t.plot.xr[1],.01).map(s=>({x:s,y:z(s,r[0].value(),r[1].value())})),i=f(t.plot.xr[0],t.plot.xr[1],.01).map(s=>({x:s,y:A(s,r[0].value(),r[1].value())}))};return r[0].update(function(){u(),l.select("#gauss").datum(e).attr("d",c),l.select("#cauchy").datum(i).attr("d",c)}),r[1].update(function(){u(),l.select("#gauss").datum(e).attr("d",c),l.select("#cauchy").datum(i).attr("d",c)}),g.selectAll(null).data(r).enter().append(_),l.append("g").datum(t.plot.xaxis).attr("class",y.axis).attr("transform",function(s){return"translate(0,"+d(0)+")"}).call(w),l.append("g").datum(t.plot.yaxis).attr("class",y.axis).attr("transform",function(s){return"translate("+n(0)+",0)"}).call(b),l.append("g").attr("class","grid"),u(),l.append("path").datum(e).attr("d",c).attr("id","gauss").style("stroke","darkred").style("stroke-width",4).style("fill","none"),l.append("path").datum(i).attr("d",c).attr("id","cauchy").style("stroke","darkblue").style("stroke-width",4).style("fill","none"),()=>{g.selectAll("*").remove(),l.selectAll("*").remove()}},L=({id:a})=>{const o=h.useRef(null),e=h.useRef(null),i=h.useRef(null);return h.useEffect(()=>{const n=o.current.clientWidth,d=o.current.clientHeight;return console.log("Container dimensions:",n,d),console.log("Container dimensions:",n,d),B(e.current,i.current)},[a]),p.jsx(p.Fragment,{children:p.jsxs("div",{ref:o,id:a,className:t.container.class,children:[p.jsx("svg",{ref:e,id:`${a}-display`,className:t.display.class,width:t.display.width,height:t.display.height,viewBox:`0 0 ${t.display.width} ${t.display.height}`}),p.jsx("svg",{ref:i,id:`${a}-controls`,className:t.controls.class,width:t.controls.width,height:t.controls.height,viewBox:`0 0 ${t.controls.width} ${t.controls.height}`})]})})};export{L as default};
